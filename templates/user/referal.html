{% extends "layouts/auth.html" %} {% load crispy_forms_tags %}
<!--  -->
{% block title %} Referrals {% endblock title %}
<!--  -->
{% block content %}
<div class="page-wrapper">
  <!-- header-section start  -->
  {% include "components/user_header.html" %}
  <!-- header-section end  -->
  <!-- breadcrum -->
  {% include "components/user_breadcrum.html" with name="Referrals"%}
  <!-- breadcrum -->

  <div class="section-wrapper">
    <div class="cmn-section">
      <div class="container">
        <div class="card">
          <div class="card-body">
            <div class="col-md-12 mb-4">
              <label>Referral Link</label>
              <div class="input-group">
                <input
                  type="text"
                  name="text"
                  class="form-control form--control referralURL"
                  value="https://{{domain}}/register/?reference={{user.username}}"
                  readonly
                />
                <span
                  class="input-group-text copytext copyBoard"
                  id="copyBoard"
                >
                  <i class="fa fa-copy"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- footer-section start  -->
  {% include "components/auth_footer.html" %}
  <!-- footer-section end  -->
</div>

{% endblock content %} {% block script %}
<script>
  (function ($) {
    "use strict";
    // $(".treeview").treeView();
    $(".copyBoard").click(function () {
      var copyText = document.getElementsByClassName("referralURL");
      copyText = copyText[0];
      copyText.select();
      copyText.setSelectionRange(0, 99999);

      /*For mobile devices*/
      document.execCommand("copy");
      copyText.blur();
      this.classList.add("copied");
      setTimeout(() => this.classList.remove("copied"), 1500);
    });
  })(jQuery);
</script>

{% endblock script %}
